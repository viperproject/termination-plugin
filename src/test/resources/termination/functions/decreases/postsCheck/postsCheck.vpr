import <decreases/int_decreases.sil>

function foo(x: Int): Int
    requires x >= 0
    ensures result == x
    //:: ExpectedOutput(termination.failed:termination.no.decrease)
    ensures result == foo(result)
{
    x == 0 ? 0 : 1 + foo(x-1)
}

function g(x: Int): Int
    requires x >= 0
    ensures result == x
    //:: ExpectedOutput(termination.failed:termination.no.decrease)
    ensures result == g(x + 1) - 1
{
    x == 0 ? 0 : 1 + g(x-1)
}